{"version":3,"file":"index.js","sources":["../src/js/mobile-menu.js","../src/js/api/http.js","../src/js/api/fetchArtist.js","../src/js/artists.js","../src/js/main.js"],"sourcesContent":["export function initMobileMenu() {\n  const openMenuBtn = document.querySelector('[data-menu-open]');\n  const closeMenuBtn = document.querySelector('[data-menu-close]');\n  const mobileMenu = document.querySelector('[data-menu]');\n\n  if (!openMenuBtn || !closeMenuBtn || !mobileMenu) return;\n\n  const toggleMenu = () => {\n    const isMenuOpen = mobileMenu.classList.toggle('is-open');\n    document.body.style.overflow = isMenuOpen ? 'hidden' : '';\n  };\n\n  openMenuBtn.addEventListener('click', toggleMenu);\n  closeMenuBtn.addEventListener('click', toggleMenu);\n\n  mobileMenu.addEventListener('click', event => {\n    if (event.target.closest('.mobile-menu-link')) {\n      toggleMenu();\n    }\n  });\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://sound-wave.b.goit.study/api/';\n\nasync function request(endpoint = '', options = {}, method = 'get') {\n  try {\n    const response = await axios({\n      url: endpoint,\n      method,\n      ...options,\n    });\n\n    return response.data;\n  } catch (error) {\n    handleError(error);\n    throw error;\n  }\n}\n\nfunction handleError(error) {\n  const status = error?.response?.status;\n\n  if (!error.response) {\n    console.error('Network error');\n\n    return;\n  }\n\n  if (status >= 500) {\n    console.error('Server error');\n  } else if (status === 404) {\n    console.error('Resource not found');\n  } else if (status === 400) {\n    console.error('Bad request');\n  } else {\n    console.error('Request failed');\n  }\n}\n\nexport const http = {\n  get: (endpoint, options = {}) => request(endpoint, options, 'get'),\n};\n","import { http } from './http';\n\nexport function fetchArtists() {\n  return http.get('/artists');\n}\nexport function fetchArtistById(id) {\n  return http.get(`/artists/${id}`);\n}\nexport function fetchArtistAlbums(id) {\n  return http.get(`/artists/${id}/albums`);\n}\n","import { fetchArtists } from './api/fetchArtist';\n\nconst artistsList = document.querySelector('.artists-list');\nconst loadMoreBtn = document.querySelector('.artists-load-more');\n\nlet allArtists = [];\nlet currentPage = 1;\nconst CARDS_PER_PAGE = 8;\n\n// Ініціалізація при завантаженні сторінки\ninit();\n\nasync function init() {\n  try {\n    await loadArtists();\n  } catch (error) {\n    console.error('Помилка завантаження артистів:', error);\n  }\n}\n\nasync function loadArtists() {\n  try {\n    const data = await fetchArtists();\n    allArtists = data.artists || [];\n    \n    showArtistsPage(1);\n  } catch (error) {\n    console.error('Помилка:', error);\n  }\n}\n\nfunction showArtistsPage(page) {\n  const start = 0;\n  const end = page * CARDS_PER_PAGE;\n  const artistsToShow = allArtists.slice(start, end);\n  \n  renderArtists(artistsToShow);\n  \n  // Перевіряємо чи є ще картки для завантаження\n  if (end >= allArtists.length) {\n    showEndMessage();\n  } else {\n    showLoadMoreBtn();\n  }\n}\n\nfunction renderArtists(artists) {\n  const markup = artists.map(createArtistCard).join('');\n  artistsList.innerHTML = markup;\n}\n\nfunction createArtistCard(artist) {\n  // Обрізаємо жанри до 4-х\n  const genreTags = artist.genres?.slice(0, 4).map(genre => \n    `<li class=\"artist-tag\">${genre}</li>`\n  ).join('') || `\n    <li class=\"artist-tag\">Alternative</li>\n    <li class=\"artist-tag\">Pop</li>\n    <li class=\"artist-tag\">Rock</li>\n    <li class=\"artist-tag\">Indie</li>\n  `;\n  \n  // Скорочуємо біографію якщо довга\n  const bio = artist.strBiographyEN || 'A talented artist.';\n  const description = bio.length > 150 ? bio.substring(0, 150) + '...' : bio;\n  \n  return `\n    <li class=\"artist-card\">\n      <a href=\"#\" class=\"artist-link\" data-artist-id=\"${artist._id}\">\n        <img src=\"${artist.strArtistThumb}\" \n             alt=\"${artist.strArtist}\" \n             class=\"artist-image\" \n             loading=\"lazy\"\n             onerror=\"this.src='./img/artists/placeholder.png'\">\n        <div class=\"artist-content\">\n          <ul class=\"artist-tags\">\n            ${genreTags}\n          </ul>\n          <div class=\"artist-info\">\n            <h3 class=\"artist-name\">${artist.strArtist}</h3>\n            <p class=\"artist-description\">${description}</p>\n          </div>\n        </div>\n        <div class=\"artist-link-wrapper\">\n          <span>Learn More</span>\n          <svg class=\"artist-icon\" width=\"24\" height=\"24\">\n            <use href=\"./assets/icons.svg#icon-caret-right\"></use>\n          </svg>\n        </div>\n      </a>\n    </li>\n  `;\n}\n\n// Обробник кнопки Load More\nif (loadMoreBtn) {\n  loadMoreBtn.addEventListener('click', handleLoadMore);\n}\n\nfunction handleLoadMore() {\n  const previousCount = currentPage * CARDS_PER_PAGE;\n  currentPage++;\n  showArtistsPage(currentPage);\n  \n  // Плавний скрол до першої нової картки\n  setTimeout(() => {\n    const cards = document.querySelectorAll('.artist-card');\n    const firstNewCard = cards[previousCount];\n    \n    if (firstNewCard) {\n      firstNewCard.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start'\n      });\n    }\n  }, 100);\n}\n\nfunction showLoadMoreBtn() {\n  loadMoreBtn.innerHTML = `\n    <span>Load More</span>\n    <svg class=\"load-more-icon\" width=\"24\" height=\"24\">\n      <use href=\"./assets/icons.svg#icon-down-arrow-alt\"></use>\n    </svg>\n  `;\n  loadMoreBtn.disabled = false;\n  loadMoreBtn.style.cursor = 'pointer';\n  loadMoreBtn.style.opacity = '1';\n  loadMoreBtn.style.display = 'flex';\n}\n\nfunction showEndMessage() {\n  loadMoreBtn.innerHTML = `\n    <span>We're sorry, but you've reached the end of search results.</span>\n  `;\n  loadMoreBtn.disabled = true;\n  loadMoreBtn.style.cursor = 'not-allowed';\n  loadMoreBtn.style.opacity = '0.6';\n}\n","import { initMobileMenu } from './mobile-menu.js';\n\ninitMobileMenu();\n\n// Artists section\nimport './artists.js';\n"],"names":["initMobileMenu","openMenuBtn","closeMenuBtn","mobileMenu","toggleMenu","isMenuOpen","event","axios","request","endpoint","options","method","error","handleError","status","_a","http","fetchArtists","artistsList","loadMoreBtn","allArtists","currentPage","CARDS_PER_PAGE","init","loadArtists","showArtistsPage","page","end","artistsToShow","renderArtists","showEndMessage","showLoadMoreBtn","artists","markup","createArtistCard","artist","genreTags","genre","bio","description","handleLoadMore","previousCount","firstNewCard"],"mappings":"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"}